#1 [internal] load local bake definitions
#1 reading from stdin 844B done
#1 DONE 0.0s

#2 [gate-server internal] load build definition from Dockerfile.gate
#2 transferring dockerfile: 2.38kB done
#2 DONE 0.0s

#3 [admin-dashboard internal] load build definition from Dockerfile
#3 transferring dockerfile: 979B done
#3 DONE 0.0s

#4 [admin-dashboard internal] load metadata for docker.io/library/node:20-alpine
#4 DONE 2.5s

#5 [gate-server internal] load .dockerignore
#5 transferring context: 2B done
#5 DONE 0.0s

#6 [admin-dashboard internal] load .dockerignore
#6 transferring context: 166B done
#6 DONE 0.0s

#7 [gate-server deps 1/4] FROM docker.io/library/node:20-alpine@sha256:643e7036aa985317ebfee460005e322aa550c6b6883000d01daefb58689a58e2
#7 DONE 0.0s

#8 [admin-dashboard internal] load build context
#8 transferring context: 19.01kB done
#8 DONE 0.0s

#9 [admin-dashboard deps 3/3] RUN pnpm install --frozen-lockfile
#9 CACHED

#10 [admin-dashboard base 2/2] RUN corepack enable && corepack prepare pnpm@latest --activate
#10 CACHED

#11 [admin-dashboard deps 1/3] WORKDIR /app
#11 CACHED

#12 [admin-dashboard deps 2/3] COPY package.json pnpm-lock.yaml ./
#12 CACHED

#13 [admin-dashboard builder 2/4] COPY --from=deps /app/node_modules ./node_modules
#13 CACHED

#14 [admin-dashboard builder 3/4] COPY . .
#14 DONE 0.0s

#15 [gate-server internal] load build context
#15 transferring context: 29.15kB 1.8s done
#15 DONE 1.8s

#16 [gate-server deps 2/4] WORKDIR /app
#16 CACHED

#17 [gate-server deps 3/4] COPY package*.json ./
#17 CACHED

#18 [gate-server deps 4/4] RUN npm ci
#18 4.054 npm warn deprecated rimraf@3.0.2: Rimraf versions prior to v4 are no longer supported
#18 ...

#19 [admin-dashboard builder 4/4] RUN pnpm run build
#19 0.397 
#19 0.397 > oops-coinpusher-admin@1.0.0 build /app
#19 0.397 > next build
#19 0.397 
#19 0.791 Attention: Next.js now collects completely anonymous telemetry regarding usage.
#19 0.791 This information is used to shape Next.js' roadmap and prioritize features.
#19 0.791 You can learn more, including how to opt-out if you'd not like to participate in this anonymous program, by visiting the following URL:
#19 0.791 https://nextjs.org/telemetry
#19 0.791 
#19 0.850    ‚ñ≤ Next.js 15.5.6
#19 0.850 
#19 0.920    Creating an optimized production build ...
#19 ...

#18 [gate-server deps 4/4] RUN npm ci
#18 8.180 npm warn deprecated eslint@8.57.1: This version is no longer supported. Please see https://eslint.org/version-support for other options.
#18 10.89 npm warn deprecated @humanwhocodes/object-schema@2.0.3: Use @eslint/object-schema instead
#18 10.93 npm warn deprecated @humanwhocodes/config-array@0.13.0: Use @eslint/config-array instead
#18 12.72 npm warn deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.
#18 12.72 npm warn deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.
#18 ...

#19 [admin-dashboard builder 4/4] RUN pnpm run build
#19 13.77  ‚úì Compiled successfully in 11.1s
#19 13.77    Linting and checking validity of types ...
#19 18.98 Failed to compile.
#19 18.98 
#19 18.98 ./app/dashboard/monitor/page.tsx:47:22
#19 18.98 Type error: Property 'success' does not exist on type 'ApiResponse<any>'.
#19 18.98 
#19 18.98 [0m [90m 45 |[39m       ])
#19 18.98  [90m 46 |[39m
#19 18.98 [31m[1m>[22m[39m[90m 47 |[39m       [36mif[39m (metricsRes[33m.[39msuccess) {
#19 18.98  [90m    |[39m                      [31m[1m^[22m[39m
#19 18.98  [90m 48 |[39m         setServerMetrics(metricsRes[33m.[39mserver [33m||[39m [36mnull[39m)
#19 18.98  [90m 49 |[39m         setBusinessMetrics(metricsRes[33m.[39mbusiness [33m||[39m [36mnull[39m)
#19 18.98  [90m 50 |[39m       }[0m
#19 19.00 Next.js build worker exited with code: 1 and signal: null
#19 19.02 ‚ÄâELIFECYCLE‚Äâ Command failed with exit code 1.
#19 ERROR: process "/bin/sh -c pnpm run build" did not complete successfully: exit code: 1

#18 [gate-server deps 4/4] RUN npm ci
#18 CANCELED
------
 > [admin-dashboard builder 4/4] RUN pnpm run build:
18.98 
18.98 [0m [90m 45 |[39m       ])
18.98  [90m 46 |[39m
18.98 [31m[1m>[22m[39m[90m 47 |[39m       [36mif[39m (metricsRes[33m.[39msuccess) {
18.98  [90m    |[39m                      [31m[1m^[22m[39m
18.98  [90m 48 |[39m         setServerMetrics(metricsRes[33m.[39mserver [33m||[39m [36mnull[39m)
18.98  [90m 49 |[39m         setBusinessMetrics(metricsRes[33m.[39mbusiness [33m||[39m [36mnull[39m)
18.98  [90m 50 |[39m       }[0m
19.00 Next.js build worker exited with code: 1 and signal: null
19.02 ‚ÄâELIFECYCLE‚Äâ Command failed with exit code 1.
------
Dockerfile:20
--------------------
  18 |     
  19 |     # ÁîüÊàêÊûÑÂª∫‰∫ßÁâ©
  20 | >>> RUN pnpm run build
  21 |     
  22 |     # Áîü‰∫ßËøêË°åÈò∂ÊÆµ
--------------------
target admin-dashboard: failed to solve: process "/bin/sh -c pnpm run build" did not complete successfully: exit code: 1

View build details: docker-desktop://dashboard/build/default/default/kvi22938olneta00769wr8nyr
