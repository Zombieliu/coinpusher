# ğŸ° æŠ½å¥–ç³»ç»Ÿ & ğŸ æ¨å¸å¥–åŠ±ç³»ç»Ÿ - å®Œæ•´å®ç°æ–‡æ¡£

## ğŸ“‹ å®ç°æ€»ç»“

æœ¬æ–‡æ¡£è®°å½•äº†å®Œæ•´çš„æŠ½å¥–ç³»ç»Ÿå’Œæ¨å¸å¥–åŠ±ç³»ç»Ÿçš„å®ç°ç»†èŠ‚ã€‚

---

## ğŸ¯ åŠŸèƒ½æ¸…å•

### âœ… å·²å®ŒæˆåŠŸèƒ½

#### 1. **æŠ½å¥–ç³»ç»Ÿï¼ˆLotterySystemï¼‰**
- âœ… ç›²ç›’æŠ½å¥–æœºåˆ¶
- âœ… 4ç§ç¨€æœ‰åº¦ï¼ˆæ™®é€š/ç¨€æœ‰/å²è¯—/ä¼ è¯´ï¼‰
- âœ… æƒé‡éšæœºç®—æ³•
- âœ… åŒé‡ä¿åº•æœºåˆ¶
  - 50æ¬¡å¿…å‡ºå²è¯—+
  - 100æ¬¡å¿…å‡ºä¼ è¯´
- âœ… ç”¨æˆ·æŠ½å¥–å†å²è¿½è¸ª
- âœ… æ¦‚ç‡è®¡ç®—å’ŒæœŸæœ›å€¼

#### 2. **æ¨å¸å¥–åŠ±ç³»ç»Ÿï¼ˆRewardSystemï¼‰**
- âœ… 5ç§å¥–åŠ±ç±»å‹
  - æ— å¥–åŠ±ï¼ˆ~94%ï¼‰
  - å°å¥–ï¼ˆ5%ï¼‰
  - å¤§å¥–ï¼ˆ1%ï¼‰
  - è¶…çº§å¤§å¥–ï¼ˆ0.05%ï¼‰
  - Jackpotï¼ˆä¿åº•ï¼‰
- âœ… Jackpotè¿›åº¦ç³»ç»Ÿ
  - æ¯æ¬¡æŠ•å¸ +0.2 è¿›åº¦
  - 100è¿›åº¦è§¦å‘ï¼ˆçº¦500æ¬¡æŠ•å¸ï¼‰
- âœ… å½©ç¥¨å‘æ”¾æœºåˆ¶
- âœ… å¥–åŠ±æ¦‚ç‡é…ç½®
- âœ… é¢„æœŸæ”¶ç›Šè®¡ç®—

#### 3. **ç”¨æˆ·æ•°æ®æ‰©å±•ï¼ˆUserDBï¼‰**
- âœ… å½©ç¥¨æ•°é‡ï¼ˆticketsï¼‰
- âœ… èƒŒåŒ…ç³»ç»Ÿï¼ˆinventoryï¼‰
- âœ… Jackpotè¿›åº¦ï¼ˆjackpotProgressï¼‰
- âœ… æ€»æŠ•å¸æ¬¡æ•°ï¼ˆtotalDropsï¼‰
- âœ… ç»Ÿè®¡æ•°æ®ï¼ˆtotalRewards, lastRewardTimeï¼‰
- âœ… åŸå­æ“ä½œæ–¹æ³•
  - addTickets / consumeTickets
  - addItemToInventory
  - updateJackpotProgress / resetJackpotProgress

#### 4. **APIåè®®ä¸å®ç°**
- âœ… `PtlDrawLottery` - æŠ½å¥–æ¥å£
- âœ… `PtlGetInventory` - è·å–èƒŒåŒ…
- âœ… `PtlGetJackpotProgress` - è·å–Jackpotè¿›åº¦
- âœ… `PtlCollectWithReward` - å¸¦å¥–åŠ±çš„é‡‘å¸æ”¶é›†ï¼ˆå†…éƒ¨æ¥å£ï¼‰

#### 5. **å…¨æœå¹¿æ’­ç³»ç»Ÿï¼ˆBroadcastServiceï¼‰**
- âœ… è¶…çº§å¤§å¥–å¹¿æ’­
- âœ… Jackpotå¹¿æ’­
- âœ… å¹¿æ’­å†å²è®°å½•
- âœ… ç²¾ç¾çš„æ§åˆ¶å°è¾“å‡º

---

## ğŸ“ æ–‡ä»¶ç»“æ„

### æ–°å¢/ä¿®æ”¹çš„æ–‡ä»¶

```
tsrpc_server/src/
â”œâ”€â”€ server/gate/
â”‚   â”œâ”€â”€ data/
â”‚   â”‚   â””â”€â”€ UserDB.ts                    [ä¿®æ”¹] æ‰©å±•ç”¨æˆ·æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ bll/
â”‚   â”‚   â”œâ”€â”€ LotterySystem.ts             [æ–°å¢] æŠ½å¥–ç³»ç»Ÿæ ¸å¿ƒé€»è¾‘
â”‚   â”‚   â”œâ”€â”€ RewardSystem.ts              [æ–°å¢] å¥–åŠ±ç³»ç»Ÿæ ¸å¿ƒé€»è¾‘
â”‚   â”‚   â””â”€â”€ BroadcastService.ts          [æ–°å¢] å…¨æœå¹¿æ’­æœåŠ¡
â”‚   â””â”€â”€ api/
â”‚       â”œâ”€â”€ ApiDrawLottery.ts            [æ–°å¢] æŠ½å¥–API
â”‚       â”œâ”€â”€ ApiGetInventory.ts           [æ–°å¢] è·å–èƒŒåŒ…API
â”‚       â”œâ”€â”€ ApiGetJackpotProgress.ts     [æ–°å¢] è·å–Jackpotè¿›åº¦API
â”‚       â””â”€â”€ internal/
â”‚           â””â”€â”€ ApiCollectWithReward.ts  [æ–°å¢] å¸¦å¥–åŠ±çš„æ”¶é›†API
â”‚
â”œâ”€â”€ tsrpc/protocols/gate/
â”‚   â”œâ”€â”€ PtlDrawLottery.ts                [æ–°å¢] æŠ½å¥–åè®®
â”‚   â”œâ”€â”€ PtlGetInventory.ts               [æ–°å¢] è·å–èƒŒåŒ…åè®®
â”‚   â”œâ”€â”€ PtlGetJackpotProgress.ts         [æ–°å¢] è·å–Jackpotè¿›åº¦åè®®
â”‚   â””â”€â”€ internal/
â”‚       â””â”€â”€ PtlCollectWithReward.ts      [æ–°å¢] å¸¦å¥–åŠ±æ”¶é›†åè®®
â”‚
â””â”€â”€ tsrpc/protocols/room/server/
    â””â”€â”€ MsgBigPrizeAnnouncement.ts       [æ–°å¢] å¤§å¥–å¹¿æ’­æ¶ˆæ¯

æ ¹ç›®å½•/
â”œâ”€â”€ test-lottery-and-rewards.ts          [æ–°å¢] æµ‹è¯•è„šæœ¬
â””â”€â”€ LOTTERY_AND_REWARDS_IMPLEMENTATION.md [æ–°å¢] æœ¬æ–‡æ¡£
```

---

## ğŸ² æŠ½å¥–ç³»ç»Ÿè¯¦è§£

### é…ç½®å‚æ•°

```typescript
{
  name: 'åŸºç¡€ç›²ç›’',
  ticketCost: 1,              // æ¶ˆè€—1å¼ å½©ç¥¨
  guaranteedPity: 50,         // 50æ¬¡å¿…å‡ºå²è¯—+
  legendaryPity: 100,         // 100æ¬¡å¿…å‡ºä¼ è¯´
  items: [...]                // å¥–æ± ç‰©å“åˆ—è¡¨
}
```

### æ¦‚ç‡åˆ†å¸ƒ

| ç¨€æœ‰åº¦ | æ¦‚ç‡ | ç‰©å“ç¤ºä¾‹ |
|--------|------|---------|
| **æ™®é€š** | ~70% | æ™®é€šçš®è‚¤ã€é‡‘å¸è¢‹ï¼ˆå°ï¼‰ |
| **ç¨€æœ‰** | ~20% | ç¨€æœ‰çš®è‚¤ã€é‡‘å¸è¢‹ï¼ˆä¸­ï¼‰ |
| **å²è¯—** | ~8% | å²è¯—çš®è‚¤ã€å½©ç¥¨ç¤¼åŒ… |
| **ä¼ è¯´** | ~2% | ä¼ è¯´NFTã€é‡‘å¸è¢‹ï¼ˆå¤§ï¼‰ |

### ä¿åº•æœºåˆ¶

```
ç¬¬1-49æ¬¡: æ­£å¸¸æ¦‚ç‡
ç¬¬50æ¬¡:   å¼ºåˆ¶å²è¯—+ï¼ˆå¦‚æœæœªæŠ½åˆ°ï¼‰
ç¬¬51-99æ¬¡: æ­£å¸¸æ¦‚ç‡
ç¬¬100æ¬¡:  å¼ºåˆ¶ä¼ è¯´ï¼ˆå¦‚æœæœªæŠ½åˆ°ï¼‰
```

### APIä½¿ç”¨ç¤ºä¾‹

```typescript
// å®¢æˆ·ç«¯è°ƒç”¨
POST /gate/DrawLottery
{
  "userId": "u_abc123"
}

// å“åº”
{
  "success": true,
  "item": {
    "itemId": "skin_epic_1",
    "itemName": "å²è¯—çš®è‚¤Â·æ©™è‰²",
    "itemType": "skin",
    "rarity": "epic",
    "quantity": 1
  },
  "isGuaranteed": true,       // ä¿åº•è§¦å‘
  "remainingTickets": 9,
  "pullStats": {
    "pullsSinceEpic": 0,
    "pullsSinceLegendary": 45,
    "totalPulls": 50
  }
}
```

---

## ğŸ å¥–åŠ±ç³»ç»Ÿè¯¦è§£

### é…ç½®å‚æ•°

```typescript
{
  // æ¦‚ç‡é…ç½®
  smallPrizeProbability: 5.0,      // 5%
  bigPrizeProbability: 1.0,        // 1%
  superPrizeProbability: 0.05,     // 0.05% (1/2000)

  // é‡‘å¸èŒƒå›´
  smallPrizeGold: [30, 100],
  bigPrizeGold: [200, 500],
  superPrizeGold: [1000, 2500],
  jackpotGold: [3000, 5000],

  // å½©ç¥¨å¥–åŠ±
  bigPrizeTickets: 1,
  superPrizeTickets: 5,
  jackpotTickets: 10,

  // Jackpoté…ç½®
  jackpotProgressPerDrop: 0.2,     // æ¯æ¬¡æŠ•å¸å¢åŠ 0.2è¿›åº¦
  jackpotThreshold: 100            // 100è¿›åº¦è§¦å‘ï¼ˆ500æ¬¡æŠ•å¸ï¼‰
}
```

### å¥–åŠ±è§¦å‘æµç¨‹

```
1ï¸âƒ£ ç©å®¶æŠ•å¸
   â†“
2ï¸âƒ£ é‡‘å¸æ‰è½ï¼ˆç‰©ç†å¼•æ“ï¼‰
   â†“
3ï¸âƒ£ æ”¶é›†é‡‘å¸ â†’ è°ƒç”¨ CollectWithReward
   â†“
4ï¸âƒ£ Jackpotè¿›åº¦ +0.2
   â†“
5ï¸âƒ£ æ£€æŸ¥Jackpotä¿åº•ï¼ˆ>=100ï¼Ÿï¼‰
   â”œâ”€ æ˜¯ â†’ è§¦å‘Jackpotï¼ˆ3000-5000é‡‘å¸ + 10å½©ç¥¨ï¼‰
   â””â”€ å¦ â†’ éšæœºæŠ½å–å¥–åŠ±
       â”œâ”€ 0.05% â†’ è¶…çº§å¤§å¥–ï¼ˆ1000-2500é‡‘å¸ + 5å½©ç¥¨ï¼‰
       â”œâ”€ 1% â†’ å¤§å¥–ï¼ˆ200-500é‡‘å¸ + 1å½©ç¥¨ï¼‰
       â”œâ”€ 5% â†’ å°å¥–ï¼ˆ30-100é‡‘å¸ï¼‰
       â””â”€ ~94% â†’ æ— å¥–åŠ±
   â†“
6ï¸âƒ£ å‘æ”¾å¥–åŠ±ï¼ˆé‡‘å¸ + å½©ç¥¨ï¼‰
   â†“
7ï¸âƒ£ è¶…çº§å¤§å¥–/Jackpot â†’ å…¨æœå¹¿æ’­
```

### é¢„æœŸæ”¶ç›Šï¼ˆEVï¼‰

åŸºäºé»˜è®¤é…ç½®ï¼š
- å°å¥–EV: 5% Ã— 65 = 3.25 é‡‘å¸
- å¤§å¥–EV: 1% Ã— 350 = 3.5 é‡‘å¸
- è¶…çº§å¤§å¥–EV: 0.05% Ã— 1750 = 0.875 é‡‘å¸
- Jackpot EV: (1/500) Ã— 4000 = 8 é‡‘å¸

**æ€»é¢„æœŸæ”¶ç›Š: ~15.6 é‡‘å¸/æ¬¡æŠ•å¸**

---

## ğŸ† Jackpotç³»ç»Ÿè¯¦è§£

### è¿›åº¦è®¡ç®—

```
åˆå§‹è¿›åº¦: 0
æ¯æ¬¡æŠ•å¸: +0.2
è§¦å‘é˜ˆå€¼: 100

æ‰€éœ€æŠ•å¸æ¬¡æ•° = 100 / 0.2 = 500æ¬¡
```

### è¿›åº¦è¿½è¸ª

ç”¨æˆ·æ•°æ®åŒ…å«ï¼š
- `jackpotProgress`: å½“å‰è¿›åº¦ï¼ˆ0-100ï¼‰
- `totalDrops`: æ€»æŠ•å¸æ¬¡æ•°

### è§¦å‘æ•ˆæœ

```
âœ… é‡ç½®è¿›åº¦ä¸º0
âœ… å‘æ”¾Jackpotå¥–åŠ±ï¼š3000-5000 é‡‘å¸ + 10 å½©ç¥¨
âœ… å…¨æœå¹¿æ’­é€šçŸ¥
âœ… å€ç‡ 3.0x
```

### APIä½¿ç”¨ç¤ºä¾‹

```typescript
// è·å–Jackpotè¿›åº¦
GET /gate/GetJackpotProgress?userId=u_abc123

// å“åº”
{
  "jackpotProgress": 73.4,          // å½“å‰è¿›åº¦
  "threshold": 100,                 // è§¦å‘é˜ˆå€¼
  "totalDrops": 367,                // æ€»æŠ•å¸æ¬¡æ•°
  "progressPerDrop": 0.2,           // æ¯æ¬¡å¢åŠ è¿›åº¦
  "estimatedDropsToJackpot": 133    // é¢„è®¡è¿˜éœ€æŠ•å¸æ¬¡æ•°
}
```

---

## ğŸ“¢ å…¨æœå¹¿æ’­ç³»ç»Ÿ

### è§¦å‘æ¡ä»¶

- è¶…çº§å¤§å¥–ï¼ˆ0.05%æ¦‚ç‡ï¼‰
- Jackpotï¼ˆ500æ¬¡ä¿åº•ï¼‰

### å¹¿æ’­æ ¼å¼

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  ğŸŠğŸŠğŸŠ  å…¨æœå¤§å¥–é€šçŸ¥  ğŸŠğŸŠğŸŠ                â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  ç©å®¶: user_12345                            â•‘
â•‘  å¥–åŠ±: 4500 é‡‘å¸ + 10 å½©ç¥¨                    â•‘
â•‘  ç±»å‹: ğŸ† JACKPOT                             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### å¹¿æ’­å†å²

- ä¿ç•™æœ€è¿‘100æ¡å¹¿æ’­è®°å½•
- æä¾›æŸ¥è¯¢æ¥å£ `getBroadcastHistory(limit)`
- å¯ç”¨äºå±•ç¤º"æœ€è¿‘å¤§å¥–"åˆ—è¡¨

---

## ğŸ” å®‰å…¨æœºåˆ¶

### 1. æ¯æ—¥å¥–åŠ±é™é¢

```typescript
// é€šè¿‡RewardLimitDBæ§åˆ¶
DAILY_REWARD_LIMIT = 1000 é‡‘å¸/å¤©

// è¶…å‡ºé™é¢è‡ªåŠ¨æ‹’ç»
if (totalReward > dailyLimit) {
  return error("æ¯æ—¥å¥–åŠ±å·²è¾¾ä¸Šé™");
}
```

### 2. å¹‚ç­‰æ€§ä¿è¯

```typescript
// æ¯ä¸ªæ”¶é›†æ“ä½œæœ‰å”¯ä¸€transactionId
transactionId = `${userId}_${Date.now()}_${random()}`

// é‡å¤è¯·æ±‚è¿”å›ä¹‹å‰çš„ç»“æœ
if (existingTransaction) {
  return cachedResult;
}
```

### 3. åŸå­æ“ä½œ

æ‰€æœ‰ç”¨æˆ·æ•°æ®æ›´æ–°ä½¿ç”¨MongoDBåŸå­æ“ä½œï¼š
- `$inc` - å¢é‡æ›´æ–°
- `$push` - æ•°ç»„æ·»åŠ 
- `findOneAndUpdate` - åŸå­æŸ¥è¯¢å¹¶æ›´æ–°

---

## ğŸ“Š æ•°æ®æ¨¡å‹

### UserData æ‰©å±•å­—æ®µ

```typescript
interface UserData {
  // åŸæœ‰å­—æ®µ
  userId: string;
  username: string;
  gold: number;
  lastLoginTime: number;

  // ğŸ†• æŠ½å¥–ç³»ç»Ÿ
  tickets: number;                // å½©ç¥¨æ•°é‡
  inventory: InventoryItem[];     // èƒŒåŒ…ç‰©å“

  // ğŸ†• Jackpotç³»ç»Ÿ
  jackpotProgress: number;        // Jackpotè¿›åº¦ï¼ˆ0-100ï¼‰
  totalDrops: number;             // æ€»æŠ•å¸æ¬¡æ•°

  // ğŸ†• ç»Ÿè®¡æ•°æ®
  totalRewards: number;           // æ€»æ”¶ç›Š
  lastRewardTime: number;         // æœ€åè·å¾—å¥–åŠ±æ—¶é—´
}
```

### InventoryItem ç»“æ„

```typescript
interface InventoryItem {
  itemId: string;          // ç‰©å“ID
  itemType: ItemType;      // ç‰©å“ç±»å‹ï¼ˆskin/prop/ticket/nftï¼‰
  itemName: string;        // ç‰©å“åç§°
  rarity: ItemRarity;      // ç¨€æœ‰åº¦ï¼ˆcommon/rare/epic/legendaryï¼‰
  quantity: number;        // æ•°é‡
  obtainedAt: number;      // è·å¾—æ—¶é—´
}
```

---

## ğŸ§ª æµ‹è¯•

### è¿è¡Œæµ‹è¯•

```bash
# å®‰è£…ä¾èµ–ï¼ˆå¦‚æœéœ€è¦ï¼‰
npm install

# è¿è¡Œæµ‹è¯•
npx ts-node test-lottery-and-rewards.ts
```

### æµ‹è¯•è¦†ç›–

1. **æŠ½å¥–ç³»ç»Ÿæµ‹è¯•**
   - âœ… æ¦‚ç‡åˆ†å¸ƒéªŒè¯
   - âœ… ä¿åº•æœºåˆ¶æµ‹è¯•
   - âœ… å•æ¬¡æŠ½å¥–æµ‹è¯•

2. **å¥–åŠ±ç³»ç»Ÿæµ‹è¯•**
   - âœ… æ¦‚ç‡é…ç½®éªŒè¯
   - âœ… é¢„æœŸæ”¶ç›Šè®¡ç®—
   - âœ… 1000æ¬¡æ¨¡æ‹Ÿç»Ÿè®¡

3. **Jackpotç³»ç»Ÿæµ‹è¯•**
   - âœ… è¿›åº¦ç´¯ç§¯éªŒè¯
   - âœ… ä¿åº•è§¦å‘æµ‹è¯•
   - âœ… 1000æ¬¡è§¦å‘ç»Ÿè®¡

4. **é›†æˆæµ‹è¯•**
   - âœ… å®Œæ•´æ¸¸æˆæµç¨‹æ¨¡æ‹Ÿ
   - âœ… æŠ•å¸â†’æ”¶é›†â†’å¥–åŠ±â†’æŠ½å¥–

---

## ğŸ“ˆ è¿›åº¦ç»Ÿè®¡

### å®ç°å®Œæˆåº¦

```
æ ¸å¿ƒæ¨å¸ç©æ³•ï¼š    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 80% (+40%)
  â””â”€ å°å¥–/å¤§å¥–/è¶…çº§å¤§å¥– âœ…
  â””â”€ Jackpotä¿åº•æœºåˆ¶ âœ…
  â””â”€ å½©ç¥¨å‘æ”¾ âœ…

æŠ½å¥–ç³»ç»Ÿï¼š        â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (+100%)
  â””â”€ ç›²ç›’æŠ½å¥– âœ…
  â””â”€ 4ç§ç¨€æœ‰åº¦ âœ…
  â””â”€ åŒé‡ä¿åº• âœ…
  â””â”€ èƒŒåŒ…ç®¡ç† âœ…

ç»æµç³»ç»Ÿï¼š        â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 80% (+30%)
  â””â”€ é‡‘å¸ç³»ç»Ÿ âœ…
  â””â”€ å½©ç¥¨ç³»ç»Ÿ âœ…
  â””â”€ å¥–åŠ±é™é¢ âœ…

ç”¨æˆ·ç³»ç»Ÿï¼š        â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘ 70% (+30%)
  â””â”€ èƒŒåŒ…åŠŸèƒ½ âœ…
  â””â”€ ç»Ÿè®¡æ•°æ® âœ…
  â””â”€ Jackpotè¿›åº¦ âœ…

æŠ€æœ¯æ¶æ„ï¼š        â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 80% (ä¸å˜)
```

### æ€»ä½“è¿›åº¦

**ä» 40% â†’ 75%**  ğŸ‰

---

## ğŸ”§ é…ç½®å»ºè®®

### å¼€å‘ç¯å¢ƒ

```typescript
// æµ‹è¯•ç”¨é…ç½®ï¼ˆæ›´å®¹æ˜“è§¦å‘å¥–åŠ±ï¼‰
{
  smallPrizeProbability: 20.0,     // 20%
  bigPrizeProbability: 5.0,        // 5%
  superPrizeProbability: 1.0,      // 1%
  jackpotProgressPerDrop: 2.0,     // 50æ¬¡è§¦å‘
  jackpotThreshold: 100
}
```

### ç”Ÿäº§ç¯å¢ƒ

```typescript
// å¹³è¡¡é…ç½®ï¼ˆæ¨èï¼‰
{
  smallPrizeProbability: 5.0,      // 5%
  bigPrizeProbability: 1.0,        // 1%
  superPrizeProbability: 0.05,     // 0.05%
  jackpotProgressPerDrop: 0.2,     // 500æ¬¡è§¦å‘
  jackpotThreshold: 100
}
```

### é«˜æ”¶ç›Šé…ç½®

```typescript
// å¸å¼•ç©å®¶ï¼ˆæ´»åŠ¨æœŸé—´ï¼‰
{
  smallPrizeProbability: 10.0,     // 10%
  bigPrizeProbability: 2.0,        // 2%
  superPrizeProbability: 0.1,      // 0.1%
  jackpotProgressPerDrop: 0.3,     // 333æ¬¡è§¦å‘
  jackpotThreshold: 100
}
```

---

## ğŸš€ ä¸‹ä¸€æ­¥è®¡åˆ’

### çŸ­æœŸï¼ˆæœ¬å‘¨ï¼‰
- [ ] å®¢æˆ·ç«¯UIé›†æˆ
- [ ] åŠ¨ç”»æ•ˆæœå®ç°
- [ ] éŸ³æ•ˆæ·»åŠ 

### ä¸­æœŸï¼ˆæœ¬æœˆï¼‰
- [ ] ä»»åŠ¡ç³»ç»Ÿï¼ˆæ¯æ—¥/æ¯å‘¨ä»»åŠ¡ï¼‰
- [ ] æˆå°±ç³»ç»Ÿ
- [ ] æ’è¡Œæ¦œ

### é•¿æœŸï¼ˆä¸‹æœˆï¼‰
- [ ] èµ›å­£ç³»ç»Ÿ
- [ ] NFTé›†æˆ
- [ ] åŒºå—é“¾å¯¹æ¥

---

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·è”ç³»å¼€å‘å›¢é˜Ÿã€‚

**å®ç°æ—¥æœŸ**: 2025-12-02
**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
**ä½œè€…**: Claude Code

---

## ğŸ“ æ›´æ–°æ—¥å¿—

### v1.0 (2025-12-02)
- âœ… å®ŒæˆæŠ½å¥–ç³»ç»Ÿæ ¸å¿ƒé€»è¾‘
- âœ… å®Œæˆå¥–åŠ±ç³»ç»Ÿæ ¸å¿ƒé€»è¾‘
- âœ… å®ŒæˆJackpotä¿åº•æœºåˆ¶
- âœ… å®Œæˆå…¨æœå¹¿æ’­ç³»ç»Ÿ
- âœ… å®Œæˆç”¨æˆ·æ•°æ®æ‰©å±•
- âœ… å®ŒæˆAPIåè®®å’Œå®ç°
- âœ… å®Œæˆæµ‹è¯•è„šæœ¬

---

**ç¥æ¸¸æˆå¤§å–ï¼** ğŸ®ğŸ‰
