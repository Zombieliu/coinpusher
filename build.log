#1 [internal] load local bake definitions
#1 reading from stdin 844B done
#1 DONE 0.0s

#2 [admin-dashboard internal] load build definition from Dockerfile
#2 transferring dockerfile: 979B done
#2 DONE 0.0s

#3 [gate-server internal] load build definition from Dockerfile.gate
#3 transferring dockerfile: 2.38kB done
#3 DONE 0.0s

#4 [gate-server internal] load metadata for docker.io/library/node:20-alpine
#4 DONE 6.4s

#5 [admin-dashboard internal] load .dockerignore
#5 transferring context: 166B done
#5 DONE 0.0s

#6 [gate-server internal] load .dockerignore
#6 transferring context: 2B done
#6 DONE 0.0s

#7 [gate-server base 1/2] FROM docker.io/library/node:20-alpine@sha256:643e7036aa985317ebfee460005e322aa550c6b6883000d01daefb58689a58e2
#7 DONE 0.0s

#8 [admin-dashboard internal] load build context
#8 transferring context: 121.75kB done
#8 DONE 0.0s

#9 [admin-dashboard deps 1/3] WORKDIR /app
#9 CACHED

#10 [admin-dashboard base 2/2] RUN corepack enable && corepack prepare pnpm@latest --activate
#10 CACHED

#11 [admin-dashboard deps 2/3] COPY package.json pnpm-lock.yaml ./
#11 CACHED

#12 [admin-dashboard deps 3/3] RUN pnpm install --frozen-lockfile
#12 CACHED

#13 [admin-dashboard builder 2/4] COPY --from=deps /app/node_modules ./node_modules
#13 CACHED

#14 [admin-dashboard builder 3/4] COPY . .
#14 DONE 0.0s

#15 [gate-server internal] load build context
#15 transferring context: 2.29MB 2.2s done
#15 DONE 2.2s

#7 [admin-dashboard base 1/2] FROM docker.io/library/node:20-alpine@sha256:643e7036aa985317ebfee460005e322aa550c6b6883000d01daefb58689a58e2
#7 CACHED

#16 [gate-server deps 2/4] WORKDIR /app
#16 DONE 0.0s

#17 [gate-server deps 3/4] COPY package*.json ./
#17 DONE 0.0s

#18 [gate-server deps 4/4] RUN npm ci
#18 4.371 npm warn deprecated rimraf@3.0.2: Rimraf versions prior to v4 are no longer supported
#18 ...

#19 [admin-dashboard builder 4/4] RUN pnpm run build
#19 0.397 
#19 0.397 > oops-coinpusher-admin@1.0.0 build /app
#19 0.397 > next build
#19 0.397 
#19 0.795 Attention: Next.js now collects completely anonymous telemetry regarding usage.
#19 0.795 This information is used to shape Next.js' roadmap and prioritize features.
#19 0.795 You can learn more, including how to opt-out if you'd not like to participate in this anonymous program, by visiting the following URL:
#19 0.795 https://nextjs.org/telemetry
#19 0.795 
#19 0.852    ▲ Next.js 15.5.6
#19 0.852 
#19 0.922    Creating an optimized production build ...
#19 7.700 Failed to compile.
#19 7.700 
#19 7.700 ./app/dashboard/announcements/page.tsx
#19 7.700 Module not found: Can't resolve '@/components/ui/card'
#19 7.700 
#19 7.700 https://nextjs.org/docs/messages/module-not-found
#19 7.700 
#19 7.700 ./app/dashboard/announcements/page.tsx
#19 7.700 Module not found: Can't resolve '@/components/ui/input'
#19 7.700 
#19 7.700 https://nextjs.org/docs/messages/module-not-found
#19 7.700 
#19 7.700 ./app/dashboard/announcements/page.tsx
#19 7.700 Module not found: Can't resolve '@/components/ui/badge'
#19 7.700 
#19 7.700 https://nextjs.org/docs/messages/module-not-found
#19 7.700 
#19 7.700 ./app/dashboard/announcements/page.tsx
#19 7.700 Module not found: Can't resolve '@/components/ui/dialog'
#19 7.700 
#19 7.700 https://nextjs.org/docs/messages/module-not-found
#19 7.700 
#19 7.700 ./app/dashboard/announcements/page.tsx
#19 7.700 Module not found: Can't resolve '@/components/ui/select'
#19 7.700 
#19 7.700 https://nextjs.org/docs/messages/module-not-found
#19 7.700 
#19 7.716 
#19 7.716 > Build failed because of webpack errors
#19 7.736  ELIFECYCLE  Command failed with exit code 1.
#19 ERROR: process "/bin/sh -c pnpm run build" did not complete successfully: exit code: 1

#18 [gate-server deps 4/4] RUN npm ci
#18 CANCELED
------
 > [admin-dashboard builder 4/4] RUN pnpm run build:
7.700 https://nextjs.org/docs/messages/module-not-found
7.700 
7.700 ./app/dashboard/announcements/page.tsx
7.700 Module not found: Can't resolve '@/components/ui/select'
7.700 
7.700 https://nextjs.org/docs/messages/module-not-found
7.700 
7.716 
7.716 > Build failed because of webpack errors
7.736  ELIFECYCLE  Command failed with exit code 1.
------
Dockerfile:20
--------------------
  18 |     
  19 |     # 生成构建产物
  20 | >>> RUN pnpm run build
  21 |     
  22 |     # 生产运行阶段
--------------------
target admin-dashboard: failed to solve: process "/bin/sh -c pnpm run build" did not complete successfully: exit code: 1

View build details: docker-desktop://dashboard/build/default/default/nelk8li3cyknjthvqrdemwp6z
